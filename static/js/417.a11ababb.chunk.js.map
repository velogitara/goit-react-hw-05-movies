{"version":3,"file":"static/js/417.a11ababb.chunk.js","mappings":"uPAEaA,EAAWC,EAAAA,GAAAA,GAAH,oMASRC,EAAQD,EAAAA,GAAAA,IAAH,2OAQLE,EAAMF,EAAAA,GAAAA,OAAH,yC,SCdD,SAASG,IACtB,IACQC,GADSC,EAAAA,EAAAA,MACTD,SACAE,GAAYC,EAAAA,EAAAA,MAAZD,QAER,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAEMC,GAASC,EAAAA,EAAAA,QAAO,KAGtBC,EAAAA,EAAAA,YAAU,WACJF,EAAOG,QAAQC,QAGnBC,EAAAA,EAAAA,IAAaZ,EAAUE,GAASW,MAAK,SAAAC,GACnCP,EAAOG,QAAUI,EAAIC,KAAKC,KAE1BV,EACEC,EAAOG,QAAQC,OAAS,GACpBJ,EAAOG,QAAQO,MAAM,EAAG,IACxBV,EAAOG,QAGd,GACF,GAAE,CAACR,EAASF,IAMb,OACE,iCACE,SAACL,EAAD,UAC6B,IAA1BY,EAAOG,QAAQC,OACdN,EAAQa,KAAI,SAAAC,GAAC,OACX,yBACE,UAACtB,EAAD,YACE,gBACEuB,IACED,EAAEE,aACE,uCAAyCF,EAAEE,aAC3C,iEAENC,IAAI,MAEN,wBAAKH,EAAEI,QACP,uCAAeJ,EAAEK,iBAXZL,EAAEM,GADA,KAiBb,yBACE,6CAILlB,EAAOG,QAAQC,OAASN,EAAQM,SAC/B,SAACb,EAAD,CAAK4B,KAAK,SAASC,QA/BL,WAClBrB,EAAWC,EAAOG,QACnB,EA6BK,wBAMP,C,uBCpED,IAAMkB,EAAQC,EAAQ,MAChBC,EAAU,mCAChBF,EAAMG,SAASC,QAAU,gCA0CzB,IAAMC,EAAW,CACfC,IAzCF,SAAaC,EAAOC,GAClB,IAAIC,GAAW,EAMf,OAAQF,GACN,IAAK,IACHE,EAAQ,qCAAiCP,GACzC,MAEF,IAAI,UACFO,EAAQ,+BAA2BP,EAA3B,iCAA2DM,EAA3D,+BAER,MACF,IAAI,WACFC,EAAQ,gBAAYD,EAAZ,oBAAgCN,GAExC,MACF,IAAI,WAAJ,OAAgBM,EAAhB,WACEC,EAAQ,gBAAYD,EAAZ,4BAAwCN,GAChD,MACF,IAAI,WAAJ,OAAgBM,EAAhB,SACEC,EAAQ,gBAAYD,EAAZ,4BAAwCN,GAEhD,MACF,QAEE,YADAQ,QAAQC,IAAI,OAIhB,GAAIF,EACF,OAAOT,EAAMY,IAAN,UAAaH,IAAYxB,MAAK,SAAA4B,GAEnC,OAAOA,CACR,GAEJ,GAMD,K","sources":["components/Cast/Cast.styled.js","components/Cast/Cast.jsx","services/API.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const CastLink = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 96px);\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 16px;\n  list-style: none;\n  padding: 0;\n`;\n\nexport const Thumb = styled.div`\n  height: 450px;\n  padding: 10px;\n  box-shadow: 1px 15px 11px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: 1px 15px 11px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: 1px 15px 11px 0px rgba(0, 0, 0, 0.75);\n`;\n\nexport const Btn = styled.button`\n  margin: auto;\n`;\n","import MovieAPI from 'services/API';\nimport { useEffect, useState, useRef } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { CastLink, Thumb, Btn } from './Cast.styled';\n\nexport default function Cast() {\n  const location = useLocation();\n  const { pathname } = location;\n  const { movieId } = useParams();\n\n  const [dataCut, setDataCut] = useState([]);\n\n  const dataEl = useRef([]);\n  // console.log(dataEl);\n\n  useEffect(() => {\n    if (dataEl.current.length) {\n      return;\n    }\n    MovieAPI.api(pathname, movieId).then(res => {\n      dataEl.current = res.data.cast;\n\n      setDataCut(\n        dataEl.current.length > 20\n          ? dataEl.current.slice(0, 20)\n          : dataEl.current\n      );\n      // console.log('сработал fetch');\n    });\n  }, [movieId, pathname]);\n\n  const handleClick = () => {\n    setDataCut(dataEl.current);\n  };\n\n  return (\n    <>\n      <CastLink>\n        {dataEl.current.length !== 0 ? (\n          dataCut.map(i => (\n            <li key={i.id}>\n              <Thumb>\n                <img\n                  src={\n                    i.profile_path\n                      ? 'https://www.themoviedb.org/t/p/w200/' + i.profile_path\n                      : 'https://placehold.jp/aaaaac/ffffff/200x300.png?text=No%20Image'\n                  }\n                  alt=\"\"\n                />\n                <h3>{i.name}</h3>\n                <p>Character: {i.character}</p>\n              </Thumb>\n            </li>\n          ))\n        ) : (\n          <li>\n            <p> no cast here</p>\n          </li>\n        )}\n      </CastLink>\n      {dataEl.current.length > dataCut.length && (\n        <Btn type=\"button\" onClick={handleClick}>\n          Load All\n        </Btn>\n      )}\n    </>\n  );\n}\n","const axios = require('axios');\nconst API_KEY = 'f3d33ff00cd7667f5ad243a04605493c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nfunction api(param, movie_id) {\n  let pathLink = false;\n\n  //   console.log(typeof param);\n  //   console.log(typeof `/movies/${movie_id}`);\n  //   console.log(param === `/movies/${movie_id}`);\n\n  switch (param) {\n    case '/':\n      pathLink = `trending/movie/day?api_key=${API_KEY}`;\n      break;\n\n    case `/movies`:\n      pathLink = `search/movie?api_key=${API_KEY}&language=en-US&query=${movie_id}&page=1&include_adult=false`;\n\n      break;\n    case `/movies/`:\n      pathLink = `movie/${movie_id}?api_key=${API_KEY}`;\n\n      break;\n    case `/movies/${movie_id}/review`:\n      pathLink = `movie/${movie_id}/reviews?api_key=${API_KEY}`;\n      break;\n    case `/movies/${movie_id}/cast`:\n      pathLink = `movie/${movie_id}/credits?api_key=${API_KEY}`;\n\n      break;\n    default:\n      console.log('NOT');\n      return;\n  }\n\n  if (pathLink) {\n    return axios.get(`${pathLink}`).then(response => {\n      //   console.log(response);\n      return response;\n    });\n  }\n}\n\nconst FetchAPI = {\n  api,\n};\n\nexport default FetchAPI;\n"],"names":["CastLink","styled","Thumb","Btn","Cast","pathname","useLocation","movieId","useParams","useState","dataCut","setDataCut","dataEl","useRef","useEffect","current","length","MovieAPI","then","res","data","cast","slice","map","i","src","profile_path","alt","name","character","id","type","onClick","axios","require","API_KEY","defaults","baseURL","FetchAPI","api","param","movie_id","pathLink","console","log","get","response"],"sourceRoot":""}