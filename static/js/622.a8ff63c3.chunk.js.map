{"version":3,"file":"static/js/622.a8ff63c3.chunk.js","mappings":"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","sources":["components/SearchBar/SearchBar.styled.js","components/SearchBar/SearchBar.jsx","Pages/Movies/Movies.styled.js","Pages/Movies/Movies.jsx","components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","services/API.js"],"sourcesContent":["import { Form, Field, ErrorMessage } from 'formik';\nimport styled from 'styled-components';\n\nexport const FormContainer = styled(Form)`\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n`;\n\nexport const Input = styled(Field)`\n  min-width: 300px;\n  padding: 5px;\n  margin-right: 20px;\n`;\n\nexport const ErrorMsg = styled(ErrorMessage)`\n  color: red;\n  font-style: italic;\n`;\nexport const Btn = styled.button`\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 5px;\n`;\n","import React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { FormContainer, Btn, Input, ErrorMsg } from './SearchBar.styled';\n\nimport * as yup from 'yup';\n\nlet schema = yup.object().shape({\n  query: yup.string().lowercase().trim().required(),\n});\n\nconst SearchQuery = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const getQ = searchParams.get('query');\n  const initialValues = {\n    query: getQ || '',\n  };\n\n  const handleSubmit = (values, actions) => {\n    setSearchParams({ query: values.query.toLowerCase().trim() });\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={schema}\n      onSubmit={handleSubmit}\n    >\n      <FormContainer>\n        <label htmlFor=\"query\">\n          <Input\n            type=\"text\"\n            name=\"query\"\n            placeholder=\"Search movie\"\n            autoComplete=\"off\"\n          />\n          <ErrorMsg name=\"query\" component=\"span\" />\n        </label>\n\n        <Btn type=\"submit\">Search movie</Btn>\n      </FormContainer>\n    </Formik>\n  );\n};\n\nexport default SearchQuery;\n\n// SearchQuery.propTypes = {\n//   getSearchQueryBar: PropTypes.func.isRequired,\n// };\n","import styled from 'styled-components';\n\nexport const MovieContainer = styled.div`\n  margin-left: 20px;\n`;\n","import Loader from 'components/Loader';\nimport MovieList from 'components/MovieList';\nimport SearchQuery from 'components/SearchBar/SearchBar';\nimport { IoIosArrowDropupCircle } from 'react-icons/io';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport MovieAPI from 'services/API';\nimport { MovieContainer } from './Movies.styled';\n\nexport default function Movies({ getSearchQueryBar }) {\n  const [searchParams] = useSearchParams();\n  const name = searchParams.get('query') || '';\n  const location = useLocation();\n  const { pathname } = location;\n  const [data, setData] = useState(null);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setStatus('pending');\n    setData(null);\n\n    if (!name) {\n      setData(null);\n      setStatus('idle');\n\n      return;\n    }\n    setTimeout(() => {\n      MovieAPI.api(pathname, name).then(res => {\n        if (!res.data.results.length) {\n          setData(null);\n          setStatus('rejected');\n\n          console.log('пусто');\n          return;\n        }\n        setData([...res.data.results]);\n        setStatus('resolved');\n\n        console.log('есть запрос');\n      });\n    }, 500);\n  }, [name, pathname]);\n\n  return (\n    <MovieContainer>\n      <SearchQuery getSearchQueryBar={getSearchQueryBar} />\n      {status === 'pending' && <Loader />}\n      {data && <MovieList data={data} />}\n      {status === 'idle' && (\n        <div>\n          здесь скоро появятся фильмы, <IoIosArrowDropupCircle /> введите слово\n          поиска{' '}\n        </div>\n      )}\n\n      {status === 'rejected' && <div>нет такого в поиске</div>}\n    </MovieContainer>\n  );\n}\n","import styled from 'styled-components';\n// import { Link } from 'react-router-dom';\n\nexport const P = styled.p`\n  color: #000;\n  font-size: larger;\n\n  :hover {\n    color: green;\n    text-decoration: underline;\n  }\n`;\n\nexport const List = styled.ul`\n  margin-left: 20px;\n`;\n\nexport const Items = styled.li`\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { P, List, Items } from './MovieList.styled';\n\nexport default function MovieList({ data }) {\n  const location = useLocation();\n  return (\n    <List>\n      {data.map(item => (\n        <Items key={item.id}>\n          <Link\n            to={`/movies/${item.id}`}\n            state={{\n              movie_id: item.id,\n              from: location,\n            }}\n          >\n            <P>{item.title}</P>\n          </Link>\n        </Items>\n      ))}\n    </List>\n  );\n}\n\nMovieList.propTypes = {\n  data: PropTypes.array,\n};\n","const axios = require('axios');\nconst API_KEY = 'f3d33ff00cd7667f5ad243a04605493c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nfunction api(param, movie_id) {\n  let pathLink = false;\n\n  //   console.log(typeof param);\n  //   console.log(typeof `/movies/${movie_id}`);\n  //   console.log(param === `/movies/${movie_id}`);\n\n  switch (param) {\n    case '/':\n      pathLink = `trending/movie/day?api_key=${API_KEY}`;\n      break;\n\n    case `/movies`:\n      pathLink = `search/movie?api_key=${API_KEY}&language=en-US&query=${movie_id}&page=1&include_adult=false`;\n\n      break;\n    case `/movies/`:\n      pathLink = `movie/${movie_id}?api_key=${API_KEY}`;\n\n      break;\n    case `/movies/${movie_id}/review`:\n      pathLink = `movie/${movie_id}/reviews?api_key=${API_KEY}`;\n      break;\n    case `/movies/${movie_id}/cast`:\n      pathLink = `movie/${movie_id}/credits?api_key=${API_KEY}`;\n\n      break;\n    default:\n      console.log('NOT');\n      return;\n  }\n\n  if (pathLink) {\n    return axios.get(`${pathLink}`).then(response => {\n      //   console.log(response);\n      return response;\n    });\n  }\n}\n\nconst FetchAPI = {\n  api,\n};\n\nexport default FetchAPI;\n"],"names":["FormContainer","styled","Form","Input","Field","ErrorMsg","ErrorMessage","Btn","schema","yup","shape","query","lowercase","trim","required","useSearchParams","searchParams","setSearchParams","initialValues","get","validationSchema","onSubmit","values","actions","toLowerCase","htmlFor","type","name","placeholder","autoComplete","component","MovieContainer","Movies","getSearchQueryBar","pathname","useLocation","useState","data","setData","status","setStatus","useEffect","setTimeout","MovieAPI","then","res","results","length","console","log","Loader","MovieList","P","List","Items","location","map","item","to","id","state","movie_id","from","title","axios","require","API_KEY","defaults","baseURL","FetchAPI","api","param","pathLink","response"],"sourceRoot":""}