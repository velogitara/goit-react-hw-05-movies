"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[622],{622:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a,r,i,o,c,l=t(2982),s=t(885),u=t(4635),d=t(2791),m=t(3504),p=t(6871),f=t(5705),h=t(168),x=t(6444),v=(0,x.ZP)(f.l0)(a||(a=(0,h.Z)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),g=(0,x.ZP)(f.gN)(r||(r=(0,h.Z)(["\n  min-width: 300px;\n  padding: 5px;\n  margin-right: 20px;\n"]))),Z=(0,x.ZP)(f.Bc)(i||(i=(0,h.Z)(["\n  color: red;\n  font-style: italic;\n"]))),y=x.ZP.button(o||(o=(0,h.Z)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 5px;\n"]))),k=t(4386),b=t(184),j=k.Ry().shape({query:k.Z_().lowercase().trim().required()}),_={query:""},q=function(){var e=(0,m.lr)(),n=(0,s.Z)(e,2),t=n[0],a=n[1];console.log(t);return(0,b.jsx)(f.J9,{initialValues:_,validationSchema:j,onSubmit:function(e,n){n.resetForm(),console.log(e),a({query:e.query.toLowerCase().trim()})},children:(0,b.jsxs)(v,{children:[(0,b.jsxs)("label",{htmlFor:"query",children:[(0,b.jsx)(g,{type:"text",name:"query",placeholder:"Search movie"}),(0,b.jsx)(Z,{name:"query",component:"span"})]}),(0,b.jsx)(y,{type:"submit",children:"Search movie"})]})})},w=t(8647),P=x.ZP.div(c||(c=(0,h.Z)(["\n  margin-left: 20px;\n"])));function S(){var e=(0,m.lr)(),n=(0,s.Z)(e,1)[0].get("query")||"",t=(0,p.TH)().pathname,a=(0,d.useState)([]),r=(0,s.Z)(a,2),i=r[0],o=r[1];return(0,d.useEffect)((function(){n?u.Z.api(t,n).then((function(e){e.data.results.length?(o((0,l.Z)(e.data.results)),console.log("\u0435\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441")):console.log("\u043f\u0443\u0441\u0442\u043e")})):o([])}),[n,t]),(0,b.jsxs)(P,{children:[(0,b.jsx)(q,{}),(0,b.jsx)(w.Z,{data:i,name:n})]})}},8647:function(e,n,t){t.d(n,{Z:function(){return f}});var a,r,i,o=t(3504),c=t(6871),l=t(168),s=t(6444),u=s.ZP.p(a||(a=(0,l.Z)(["\n  color: #000;\n  font-size: larger;\n\n  :hover {\n    color: green;\n    text-decoration: underline;\n  }\n"]))),d=s.ZP.ul(r||(r=(0,l.Z)(["\n  margin-left: 20px;\n"]))),m=s.ZP.li(i||(i=(0,l.Z)(["\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),p=t(184);function f(e){var n=e.data,t=e.name,a=(0,c.TH)();return(0,p.jsx)(d,{children:n?n.map((function(e){return(0,p.jsx)(m,{children:(0,p.jsx)(o.rU,{to:"/movies/".concat(e.id),state:{movie_id:e.id,from:a},children:(0,p.jsx)(u,{children:e.title})})},e.id)})):!t&&(0,p.jsx)("li",{children:(0,p.jsx)("p",{children:"\u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435"})})})}},4635:function(e,n,t){var a=t(4569),r="f3d33ff00cd7667f5ad243a04605493c";a.defaults.baseURL="https://api.themoviedb.org/3/";var i={api:function(e,n){var t=!1;switch(e){case"/":t="trending/movie/day?api_key=".concat(r);break;case"/movies":t="search/movie?api_key=".concat(r,"&language=en-US&query=").concat(n,"&page=1&include_adult=true");break;case"/movies/":t="movie/".concat(n,"?api_key=").concat(r);break;case"/movies/".concat(n,"/review"):t="movie/".concat(n,"/reviews?api_key=").concat(r);break;case"/movies/".concat(n,"/cast"):t="movie/".concat(n,"/credits?api_key=").concat(r);break;default:return void console.log("NOT")}if(t)return a.get("".concat(t)).then((function(e){return e}))}};n.Z=i}}]);
//# sourceMappingURL=622.49c19328.chunk.js.map