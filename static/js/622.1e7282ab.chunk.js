"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[622],{622:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var a,r,i,c,o,s=t(2982),l=t(885),u=t(4635),d=t(2791),m=t(3504),p=t(6871),h=t(5705),f=t(168),v=t(6444),x=(0,v.ZP)(h.l0)(a||(a=(0,f.Z)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),g=(0,v.ZP)(h.gN)(r||(r=(0,f.Z)(["\n  min-width: 300px;\n  padding: 5px;\n  margin-right: 20px;\n"]))),Z=(0,v.ZP)(h.Bc)(i||(i=(0,f.Z)(["\n  color: red;\n  font-style: italic;\n"]))),y=v.ZP.button(c||(c=(0,f.Z)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 5px;\n"]))),k=t(4386),b=t(184),j=k.Ry().shape({query:k.Z_().lowercase().trim().required()}),_=function(){var e=(0,m.lr)(),n=(0,l.Z)(e,2),t=n[0],a=n[1],r={query:t.get("query")||""};return(0,b.jsx)(h.J9,{initialValues:r,validationSchema:j,onSubmit:function(e,n){a({query:e.query.toLowerCase().trim()})},children:(0,b.jsxs)(x,{children:[(0,b.jsxs)("label",{htmlFor:"query",children:[(0,b.jsx)(g,{type:"text",name:"query",placeholder:"Search movie"}),(0,b.jsx)(Z,{name:"query",component:"span"})]}),(0,b.jsx)(y,{type:"submit",children:"Search movie"})]})})},q=t(8647),w=v.ZP.div(o||(o=(0,f.Z)(["\n  margin-left: 20px;\n"])));function P(e){var n=e.getSearchQueryBar,t=(0,m.lr)(),a=(0,l.Z)(t,1)[0].get("query")||"",r=(0,p.TH)().pathname,i=(0,d.useState)([]),c=(0,l.Z)(i,2),o=c[0],h=c[1];return(0,d.useEffect)((function(){a?u.Z.api(r,a).then((function(e){e.data.results.length?h((0,s.Z)(e.data.results)):h([])})):h([])}),[a,r]),(0,b.jsxs)(w,{children:[(0,b.jsx)(_,{getSearchQueryBar:n}),o.length?(0,b.jsx)(q.Z,{data:o}):a&&o.id&&(0,b.jsx)("p",{children:"\u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435"})]})}},8647:function(e,n,t){t.d(n,{Z:function(){return h}});var a,r,i,c=t(3504),o=t(6871),s=t(168),l=t(6444),u=l.ZP.p(a||(a=(0,s.Z)(["\n  color: #000;\n  font-size: larger;\n\n  :hover {\n    color: green;\n    text-decoration: underline;\n  }\n"]))),d=l.ZP.ul(r||(r=(0,s.Z)(["\n  margin-left: 20px;\n"]))),m=l.ZP.li(i||(i=(0,s.Z)(["\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),p=t(184);function h(e){var n=e.data,t=(0,o.TH)();return(0,p.jsx)(d,{children:n.map((function(e){return(0,p.jsx)(m,{children:(0,p.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{movie_id:e.id,from:t},children:(0,p.jsx)(u,{children:e.title})})},e.id)}))})}},4635:function(e,n,t){var a=t(4569),r="f3d33ff00cd7667f5ad243a04605493c";a.defaults.baseURL="https://api.themoviedb.org/3/";var i={api:function(e,n){var t=!1;switch(e){case"/":t="trending/movie/day?api_key=".concat(r);break;case"/movies":t="search/movie?api_key=".concat(r,"&language=en-US&query=").concat(n,"&page=1&include_adult=false");break;case"/movies/":t="movie/".concat(n,"?api_key=").concat(r);break;case"/movies/".concat(n,"/review"):t="movie/".concat(n,"/reviews?api_key=").concat(r);break;case"/movies/".concat(n,"/cast"):t="movie/".concat(n,"/credits?api_key=").concat(r);break;default:return void console.log("NOT")}if(t)return a.get("".concat(t)).then((function(e){return e}))}};n.Z=i}}]);
//# sourceMappingURL=622.1e7282ab.chunk.js.map