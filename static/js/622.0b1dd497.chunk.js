"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[622],{622:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,a,i,c,o,l=t(2982),s=t(885),u=t(4635),d=t(2791),m=t(3504),p=t(6871),h=t(5705),f=t(168),g=t(6444),v=(0,g.ZP)(h.l0)(r||(r=(0,f.Z)(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),x=(0,g.ZP)(h.gN)(a||(a=(0,f.Z)(["\n  min-width: 300px;\n  padding: 5px;\n  margin-right: 20px;\n"]))),y=(0,g.ZP)(h.Bc)(i||(i=(0,f.Z)(["\n  color: red;\n  font-style: italic;\n"]))),Z=g.ZP.button(c||(c=(0,f.Z)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 5px;\n"]))),k=t(4386),b=t(184),j=k.Ry().shape({query:k.Z_().lowercase().trim().required()}),q=function(e){var n=e.getSearchQueryBar,t=(0,m.lr)(),r=(0,s.Z)(t,2),a=r[0],i=r[1],c={query:a.get("query")||""};return(0,b.jsx)(h.J9,{initialValues:c,validationSchema:j,onSubmit:function(e,t){n(e.query),i({query:e.query.toLowerCase().trim()})},children:(0,b.jsxs)(v,{children:[(0,b.jsxs)("label",{htmlFor:"query",children:[(0,b.jsx)(x,{type:"text",name:"query",placeholder:"Search movie"}),(0,b.jsx)(y,{name:"query",component:"span"})]}),(0,b.jsx)(Z,{type:"submit",children:"Search movie"})]})})},_=t(8647),w=g.ZP.div(o||(o=(0,f.Z)(["\n  margin-left: 20px;\n"])));function S(e){var n=e.getSearchQueryBar,t=(0,m.lr)(),r=(0,s.Z)(t,1)[0].get("query")||"",a=(0,p.TH)().pathname,i=(0,d.useState)([]),c=(0,s.Z)(i,2),o=c[0],h=c[1];return(0,d.useEffect)((function(){r?u.Z.api(a,r).then((function(e){if(!e.data.results.length)return h([]),void console.log("\u043f\u0443\u0441\u0442\u043e");h((0,l.Z)(e.data.results)),console.log("\u0435\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441")})):h([])}),[r,a]),(0,b.jsxs)(w,{children:[(0,b.jsx)(q,{getSearchQueryBar:n}),o.length?(0,b.jsx)(_.Z,{data:o}):r&&(0,b.jsx)("p",{children:"\u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0432 \u043f\u043e\u0438\u0441\u043a\u0435"})]})}},8647:function(e,n,t){t.d(n,{Z:function(){return h}});var r,a,i,c=t(3504),o=t(6871),l=t(168),s=t(6444),u=s.ZP.p(r||(r=(0,l.Z)(["\n  color: #000;\n  font-size: larger;\n\n  :hover {\n    color: green;\n    text-decoration: underline;\n  }\n"]))),d=s.ZP.ul(a||(a=(0,l.Z)(["\n  margin-left: 20px;\n"]))),m=s.ZP.li(i||(i=(0,l.Z)(["\n  :not(:last-child) {\n    margin-bottom: 5px;\n  }\n"]))),p=t(184);function h(e){var n=e.data,t=(0,o.TH)();return(0,p.jsx)(d,{children:n.map((function(e){return(0,p.jsx)(m,{children:(0,p.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{movie_id:e.id,from:t},children:(0,p.jsx)(u,{children:e.title})})},e.id)}))})}},4635:function(e,n,t){var r=t(4569),a="f3d33ff00cd7667f5ad243a04605493c";r.defaults.baseURL="https://api.themoviedb.org/3/";var i={api:function(e,n){var t=!1;switch(e){case"/":t="trending/movie/day?api_key=".concat(a);break;case"/movies":t="search/movie?api_key=".concat(a,"&language=en-US&query=").concat(n,"&page=1&include_adult=true");break;case"/movies/":t="movie/".concat(n,"?api_key=").concat(a);break;case"/movies/".concat(n,"/review"):t="movie/".concat(n,"/reviews?api_key=").concat(a);break;case"/movies/".concat(n,"/cast"):t="movie/".concat(n,"/credits?api_key=").concat(a);break;default:return void console.log("NOT")}if(t)return r.get("".concat(t)).then((function(e){return e}))}};n.Z=i}}]);
//# sourceMappingURL=622.0b1dd497.chunk.js.map