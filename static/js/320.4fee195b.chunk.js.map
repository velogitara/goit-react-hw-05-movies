{"version":3,"file":"static/js/320.4fee195b.chunk.js","mappings":"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","sources":["components/Cast&ReviewContainer/Cast&ReviewContainer.styled..js","components/Cast&ReviewContainer/Cast&ReviewContainer.jsx","Pages/MovieDetails/MovieDetails.styled.js","Pages/MovieDetails/MovieDetails.jsx","services/API.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const CastContainer = styled.ul`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-start;\n  min-height: 80px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  padding-left: 15px;\n  border-top: 1px solid #2a363b;\n\n  border-bottom: 1px solid #2a363b;\n`;\n\nexport const NavLink = styled(Link)`\n  margin-left: 5px;\n`;\n","import { CastContainer, NavLink } from './Cast&ReviewContainer.styled.';\nimport { useLocation } from 'react-router-dom';\n\nconst castReview = [\n  { href: 'cast', text: 'Cast' },\n  { href: 'review', text: 'Review' },\n];\n\nexport default function CastReviewContainer() {\n  const location = useLocation();\n\n  return (\n    <CastContainer>\n      {castReview.map(({ href, text }) => (\n        <NavLink key={href} to={href} state={location.state}>\n          {text}\n        </NavLink>\n      ))}\n    </CastContainer>\n  );\n}\n","import styled from 'styled-components';\n\nexport const LinkContainer = styled.p`\n  margin-bottom: 20px;\n`;\n\nexport const Details = styled.div`\n  display: flex;\n`;\n\nexport const Img = styled.img`\n  display: block;\n`;\n\nexport const Attributes = styled.div`\n  padding: 20px;\n  font-size: 18px;\n`;\n\nexport const Title = styled.h3`\n  color: #000f58;\n  font-size: 30px;\n`;\n\nexport const AttributeName = styled.p`\n  font-size: 22px;\n  font-weight: bold;\n  margin-bottom: 5px;\n`;\n\nexport const VoteAverage = styled.p`\n  font-style: italic;\n`;\n\nexport const Overview = styled.p`\n  color: #4b4453;\n`;\n\nexport const Genres = styled.p`\n  font-style: italic;\n`;\n","import CastReviewContainer from 'components/Cast&ReviewContainer';\nimport { useEffect, useState } from 'react';\nimport {\n  useLocation,\n  Outlet,\n  useParams,\n  Link,\n  useNavigate,\n} from 'react-router-dom';\nimport MovieAPI from 'services/API';\nimport { Suspense } from 'react';\nimport { IoIosArrowRoundBack } from 'react-icons/io';\n\nimport {\n  Details,\n  Img,\n  Attributes,\n  Title,\n  AttributeName,\n  VoteAverage,\n  Genres,\n  Overview,\n  LinkContainer,\n} from './MovieDetails.styled';\n\nexport default function MovieDetails() {\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const { movieId } = useParams();\n  const nav = useNavigate();\n\n  const [data, setData] = useState({});\n  const [genres, setGenres] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    MovieAPI.api('/movies/', movieId)\n      .then(res => res.data)\n      .then(res => {\n        const allGenres = res.genres.map(i => i.name).join(', ');\n        setStatus('idle');\n        setGenres(allGenres);\n        setData(res);\n        return;\n      })\n      .catch(err => {\n        // nav('*');\n        setStatus('rejected');\n\n        console.log(err);\n      });\n  }, [data.id, movieId, nav]);\n\n  return (\n    <div>\n      <LinkContainer>\n        <Link to={backLinkHref}>\n          <IoIosArrowRoundBack\n            style={{\n              height: '28px',\n              width: '32px',\n              verticalAlign: 'middle',\n              color: 'darkorange',\n            }}\n          />\n          go back\n        </Link>\n      </LinkContainer>\n      {movieId === String(data.id) ? (\n        <>\n          <Details>\n            {data.length !== 0 && (\n              <Img\n                src={\n                  data.poster_path\n                    ? 'https://www.themoviedb.org/t/p/w300_and_h450_bestv2/' +\n                      data.poster_path\n                    : 'https://bimmridder.com/wp-content/uploads/2016/09/placeholder-300x400.png'\n                }\n                alt={data.title}\n              />\n            )}\n            <Attributes>\n              <Title>\n                {data.title}\n                {data.release_date && (\n                  <span>{' (' + data.release_date.slice(0, 4) + ')'}</span>\n                )}\n              </Title>\n              <VoteAverage>\n                User score: {Number.parseInt(data.vote_average * 10)}%\n              </VoteAverage>\n              <AttributeName>Overview</AttributeName>\n              <Overview>{data.overview}</Overview>\n              <AttributeName>Genres</AttributeName>\n              <Genres>{genres}</Genres>\n            </Attributes>\n          </Details>\n          <CastReviewContainer />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>{' '}\n        </>\n      ) : (\n        data.id && <p>В базе нет такого фильма</p>\n      )}\n      {status === 'rejected' && <p>фильм с таким именем не найден</p>}\n    </div>\n  );\n}\n","const axios = require('axios');\nconst API_KEY = 'f3d33ff00cd7667f5ad243a04605493c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nfunction api(param, movie_id) {\n  let pathLink = false;\n\n  //   console.log(typeof param);\n  //   console.log(typeof `/movies/${movie_id}`);\n  //   console.log(param === `/movies/${movie_id}`);\n\n  switch (param) {\n    case '/':\n      pathLink = `trending/movie/day?api_key=${API_KEY}`;\n      break;\n\n    case `/movies`:\n      pathLink = `search/movie?api_key=${API_KEY}&language=en-US&query=${movie_id}&page=1&include_adult=false`;\n\n      break;\n    case `/movies/`:\n      pathLink = `movie/${movie_id}?api_key=${API_KEY}`;\n\n      break;\n    case `/movies/${movie_id}/review`:\n      pathLink = `movie/${movie_id}/reviews?api_key=${API_KEY}`;\n      break;\n    case `/movies/${movie_id}/cast`:\n      pathLink = `movie/${movie_id}/credits?api_key=${API_KEY}`;\n\n      break;\n    default:\n      console.log('NOT');\n      return;\n  }\n\n  if (pathLink) {\n    return axios.get(`${pathLink}`).then(response => {\n      //   console.log(response);\n      return response;\n    });\n  }\n}\n\nconst FetchAPI = {\n  api,\n};\n\nexport default FetchAPI;\n"],"names":["CastContainer","styled","NavLink","Link","castReview","href","text","CastReviewContainer","location","useLocation","map","to","state","LinkContainer","Details","Img","Attributes","Title","AttributeName","VoteAverage","Overview","Genres","MovieDetails","backLinkHref","from","movieId","useParams","nav","useNavigate","useState","data","setData","genres","setGenres","status","setStatus","useEffect","MovieAPI","then","res","allGenres","i","name","join","catch","err","console","log","id","style","height","width","verticalAlign","color","String","length","src","poster_path","alt","title","release_date","slice","Number","parseInt","vote_average","overview","Suspense","fallback","axios","require","API_KEY","defaults","baseURL","FetchAPI","api","param","movie_id","pathLink","get","response"],"sourceRoot":""}