{"version":3,"file":"static/js/760.19148394.chunk.js","mappings":"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","sources":["components/Cast&ReviewContainer/Cast&ReviewContainer.styler.js","components/Cast&ReviewContainer/Cast&ReviewContainer.jsx","Pages/MovieDetails/MovieDetails.styled.js","Pages/MovieDetails/MovieDetails.jsx","services/API.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const CastContainer = styled.ul`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-start;\n  min-height: 80px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  padding-left: 15px;\n  border-top: 1px solid #2a363b;\n\n  border-bottom: 1px solid #2a363b;\n`;\n\nexport const NavLink = styled(Link)`\n  margin-left: 5px;\n`;\n","import { CastContainer, NavLink } from './Cast&ReviewContainer.styler';\n// import { useLocation } from 'react-router-dom';\n\nconst castReview = [\n  { href: 'cast', text: 'Cast' },\n  { href: 'review', text: 'Review' },\n];\n\nexport default function CastReviewContainer() {\n  // const location = useLocation();\n\n  return (\n    <CastContainer>\n      {castReview.map(({ href, text }) => (\n        <NavLink\n          key={href}\n          to={href}\n          // state={{\n          //   from: location,\n          // }}\n        >\n          {text}\n        </NavLink>\n      ))}\n    </CastContainer>\n  );\n}\n","import styled from 'styled-components';\n\nexport const LinkContainer = styled.p`\n  margin-bottom: 20px;\n`;\n\nexport const Details = styled.div`\n  display: flex;\n`;\n\nexport const Img = styled.img`\n  display: block;\n`;\n\nexport const Attributes = styled.div`\n  padding: 20px;\n  font-size: 18px;\n`;\n\nexport const Title = styled.h3`\n  color: #000f58;\n  font-size: 30px;\n`;\n\nexport const AttributeName = styled.p`\n  font-size: 22px;\n  font-weight: bold;\n  margin-bottom: 5px;\n`;\n\nexport const VoteAverage = styled.p`\n  font-style: italic;\n`;\n\nexport const Overview = styled.p`\n  color: #4b4453;\n`;\n\nexport const Genres = styled.p`\n  font-style: italic;\n`;\n","import CastReviewContainer from 'components/Cast&ReviewContainer';\nimport { useEffect, useState } from 'react';\nimport { useLocation, Outlet, useParams, Link } from 'react-router-dom';\nimport MovieAPI from 'services/API';\nimport { Suspense } from 'react';\nimport { IoIosArrowRoundBack } from 'react-icons/io';\n\nimport {\n  Details,\n  Img,\n  Attributes,\n  Title,\n  AttributeName,\n  VoteAverage,\n  Genres,\n  Overview,\n  LinkContainer,\n} from './MovieDetails.styled';\n\nexport default function MovieDetails() {\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const { movieId } = useParams();\n\n  const [data, setData] = useState({});\n  const [genres, setGenres] = useState('');\n\n  useEffect(() => {\n    MovieAPI.api('/movies/', movieId)\n      .then(res => res.data)\n      .then(res => {\n        const allGenres = res.genres.map(i => i.name).join(', ');\n        setGenres(allGenres);\n        setData(res);\n        return;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, [data.id, movieId]);\n\n  return (\n    <div>\n      <LinkContainer>\n        <Link to={backLinkHref}>\n          <IoIosArrowRoundBack\n            style={{\n              height: '28px',\n              width: '32px',\n              verticalAlign: 'middle',\n              color: 'darkorange',\n            }}\n          />\n          go back\n        </Link>\n      </LinkContainer>\n      {movieId === String(data.id) ? (\n        <>\n          <Details>\n            {data.length !== 0 && (\n              <Img\n                src={\n                  data.poster_path\n                    ? 'https://www.themoviedb.org/t/p/w300_and_h450_bestv2/' +\n                      data.poster_path\n                    : 'https://bimmridder.com/wp-content/uploads/2016/09/placeholder-300x400.png'\n                }\n                alt={data.title}\n              />\n            )}\n            <Attributes>\n              <Title>\n                {data.title}\n                {data.release_date && (\n                  <span>{' (' + data.release_date.slice(0, 4) + ')'}</span>\n                )}\n              </Title>\n              <VoteAverage>\n                User score: {Number.parseInt(data.vote_average * 10)}%\n              </VoteAverage>\n              <AttributeName>Overview</AttributeName>\n              <Overview>{data.overview}</Overview>\n              <AttributeName>Genres</AttributeName>\n              <Genres>{genres}</Genres>\n            </Attributes>\n          </Details>\n          <CastReviewContainer />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>{' '}\n        </>\n      ) : (\n        data.id && <p>В базе нет такого фильма</p>\n      )}\n    </div>\n  );\n}\n","const axios = require('axios');\nconst API_KEY = 'f3d33ff00cd7667f5ad243a04605493c';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nfunction api(param, movie_id) {\n  let pathLink = false;\n\n  //   console.log(typeof param);\n  //   console.log(typeof `/movies/${movie_id}`);\n  //   console.log(param === `/movies/${movie_id}`);\n\n  switch (param) {\n    case '/':\n      pathLink = `trending/movie/day?api_key=${API_KEY}`;\n      break;\n\n    case `/movies`:\n      pathLink = `search/movie?api_key=${API_KEY}&language=en-US&query=${movie_id}&page=1&include_adult=false`;\n\n      break;\n    case `/movies/`:\n      pathLink = `movie/${movie_id}?api_key=${API_KEY}`;\n\n      break;\n    case `/movies/${movie_id}/review`:\n      pathLink = `movie/${movie_id}/reviews?api_key=${API_KEY}`;\n      break;\n    case `/movies/${movie_id}/cast`:\n      pathLink = `movie/${movie_id}/credits?api_key=${API_KEY}`;\n\n      break;\n    default:\n      console.log('NOT');\n      return;\n  }\n\n  if (pathLink) {\n    return axios.get(`${pathLink}`).then(response => {\n      //   console.log(response);\n      return response;\n    });\n  }\n}\n\nconst FetchAPI = {\n  api,\n};\n\nexport default FetchAPI;\n"],"names":["CastContainer","styled","NavLink","Link","castReview","href","text","CastReviewContainer","map","to","LinkContainer","Details","Img","Attributes","Title","AttributeName","VoteAverage","Overview","Genres","MovieDetails","backLinkHref","useLocation","state","from","movieId","useParams","useState","data","setData","genres","setGenres","useEffect","MovieAPI","then","res","allGenres","i","name","join","catch","err","console","log","id","style","height","width","verticalAlign","color","String","length","src","poster_path","alt","title","release_date","slice","Number","parseInt","vote_average","overview","Suspense","fallback","axios","require","API_KEY","defaults","baseURL","FetchAPI","api","param","movie_id","pathLink","get","response"],"sourceRoot":""}